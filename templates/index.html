<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HH.ru Parser - Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>üìä HH.ru Parser</h1>
                <p class="subtitle">–ê–Ω–∞–ª–∏–∑ –≤–∞–∫–∞–Ω—Å–∏–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π –æ—Ç–¥–µ–ª–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞</p>
            </div>
        </header>

        <!-- Project Selector -->
        <section class="project-selector">
            <div class="project-controls">
                <label for="projectSelect">
                    <span class="label-icon">üìÅ</span>
                    –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç:
                </label>
                <select id="projectSelect" class="project-dropdown">
                    <option value="1">Default Project (Loading...)</option>
                </select>
                <button id="deleteProjectBtn" class="btn btn-danger btn-sm">
                    <span class="btn-icon">üóëÔ∏è</span>
                    –£–¥–∞–ª–∏—Ç—å
                </button>
            </div>
        </section>

        <!-- Filters -->
        <section class="filters-section">
            <div class="filters-controls">
                <div class="filter-group">
                    <label for="minSalary">
                        <span class="label-icon">üí∞</span>
                        –ú–∏–Ω. –∑–∞—Ä–ø–ª–∞—Ç–∞:
                    </label>
                    <input type="number" id="minSalary" class="filter-input" placeholder="100000" step="10000" min="0">
                    <span class="filter-unit">‚ÇΩ</span>
                </div>

                <div class="filter-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="hideEmpty" checked>
                        <span>–°–∫—Ä—ã—Ç—å –±–µ–∑ –∑–∞—Ä–ø–ª–∞—Ç—ã</span>
                    </label>
                </div>

                <button id="applyFilters" class="btn btn-secondary btn-sm">
                    <span class="btn-icon">üîç</span>
                    –ü—Ä–∏–º–µ–Ω–∏—Ç—å
                </button>

                <button id="resetFilters" class="btn btn-light btn-sm">
                    <span class="btn-icon">‚Ü∫</span>
                    –°–±—Ä–æ—Å–∏—Ç—å
                </button>
            </div>
        </section>

        <!-- Main Controls -->
        <section class="controls">
            <button id="collectBtn" class="btn btn-primary">
                <span class="btn-icon">‚öôÔ∏è</span>
                –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Å–±–æ—Ä
            </button>
            <button id="refreshBtn" class="btn btn-secondary">
                <span class="btn-icon">üîÑ</span>
                –û–±–Ω–æ–≤–∏—Ç—å
            </button>
            <div class="export-group">
                <button id="exportJsonBtn" class="btn btn-export">
                    <span class="btn-icon">üìÑ</span>
                    JSON
                </button>
                <button id="exportCsvBtn" class="btn btn-export">
                    <span class="btn-icon">üìä</span>
                    CSV
                </button>
            </div>
        </section>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–∞</h2>
                    <button class="modal-close" id="closeModal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="searchQuery">
                            <span class="label-icon">üîç</span>
                            –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏
                        </label>
                        <input type="text" id="searchQuery" class="form-input" value="—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ç–¥–µ–ª–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞"
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥, SMM –º–µ–Ω–µ–¥–∂–µ—Ä">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="searchArea">
                                <span class="label-icon">üìç</span>
                                –†–µ–≥–∏–æ–Ω
                            </label>
                            <select id="searchArea" class="form-input">
                                <option value="1">–ú–æ—Å–∫–≤–∞</option>
                                <option value="2">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                                <option value="113">–í—Å—è –†–æ—Å—Å–∏—è</option>
                                <option value="">–í–µ—Å—å –º–∏—Ä</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="searchExperience">
                                <span class="label-icon">üìà</span>
                                –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã
                            </label>
                            <select id="searchExperience" class="form-input">
                                <option value="">–ù–µ –≤–∞–∂–Ω–æ</option>
                                <option value="noExperience">–ù–µ—Ç –æ–ø—ã—Ç–∞</option>
                                <option value="between1And3">–û—Ç 1 –¥–æ 3 –ª–µ—Ç</option>
                                <option value="between3And6">–û—Ç 3 –¥–æ 6 –ª–µ—Ç</option>
                                <option value="moreThan6">–ë–æ–ª–µ–µ 6 –ª–µ—Ç</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="searchPages">
                                <span class="label-icon">üìÑ</span>
                                –°—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è —Å–±–æ—Ä–∞
                            </label>
                            <input type="number" id="searchPages" class="form-input" value="10" min="1" max="50">
                        </div>

                        <div class="form-group">
                            <label for="searchPerPage">
                                <span class="label-icon">üìä</span>
                                –í–∞–∫–∞–Ω—Å–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
                            </label>
                            <select id="searchPerPage" class="form-input">
                                <option value="20" selected>20</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="createNewProject">
                            <span>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</span>
                        </label>
                        <input type="text" id="projectName" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"
                            style="display: none; margin-top: 0.5rem;">
                    </div>

                    <div class="stats-preview">
                        <p>üì• –ë—É–¥–µ—Ç —Å–æ–±—Ä–∞–Ω–æ: <strong id="estimatedTotal">200</strong> –≤–∞–∫–∞–Ω—Å–∏–π</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancelBtn" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                    <button id="startCollectBtn" class="btn btn-primary">
                        <span class="btn-icon">üöÄ</span>
                        –ù–∞—á–∞—Ç—å —Å–±–æ—Ä
                    </button>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div id="statusBar" class="status-bar hidden">
            <div class="status-content">
                <div class="status-spinner"></div>
                <span id="statusMessage">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
            <div id="progressBar" class="progress-bar">
                <div id="progressFill" class="progress-fill"></div>
            </div>
        </div>

        <!-- Stats Cards -->
        <section class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üìã</div>
                <div class="stat-content">
                    <h3 id="totalVacancies">0</h3>
                    <p>–í—Å–µ–≥–æ –≤–∞–∫–∞–Ω—Å–∏–π</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-content">
                    <h3 id="avgSalary">-</h3>
                    <p>–°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üéØ</div>
                <div class="stat-content">
                    <h3 id="topSkills">-</h3>
                    <p>–¢–æ–ø –Ω–∞–≤—ã–∫</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìà</div>
                <div class="stat-content">
                    <h3 id="withSalary">0%</h3>
                    <p>–° —É–∫–∞–∑–∞–Ω–Ω–æ–π –∑/–ø</p>
                </div>
            </div>
        </section>

        <!-- Charts Section -->
        <section class="charts-section">
            <div class="chart-container">
                <h2>üîë –¢–æ–ø-20 –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤</h2>
                <canvas id="keywordsChart"></canvas>
            </div>
            <div class="chart-container">
                <h2>üíº –¢–æ–ø-15 –Ω–∞–≤—ã–∫–æ–≤</h2>
                <canvas id="skillsChart"></canvas>
            </div>
        </section>

        <!-- Experience Chart -->
        <section class="chart-full">
            <div class="chart-container">
                <h2>üìä –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –æ–ø—ã—Ç—É</h2>
                <canvas id="experienceChart"></canvas>
            </div>
        </section>

        <!-- Vacancies Table -->
        <section class="table-section">
            <h2>üìÑ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏</h2>
            <div class="table-container">
                <table id="vacanciesTable">
                    <thead>
                        <tr>
                            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                            <th>–ö–æ–º–ø–∞–Ω–∏—è</th>
                            <th>–ó–∞—Ä–ø–ª–∞—Ç–∞</th>
                            <th>–û–ø—ã—Ç</th>
                            <th>–°—Å—ã–ª–∫–∞</th>
                        </tr>
                    </thead>
                    <tbody id="vacanciesBody">
                        <tr>
                            <td colspan="5" class="no-data">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä –≤–∞–∫–∞–Ω—Å–∏–π.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>HH.ru Parser ¬© 2026</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='filters.js') }}"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>